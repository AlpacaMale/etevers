{% extends "layout.html" %} {% block body %}

<main class="container" style="width: 80%">
  <div class="p-5 mt-5">
    <div class="shadow-sm bg-body-tertiary rounded" style="padding: 80px 100px">
      <div class="col">
        <p class="fw-bold fs-4 text-center">My Page</p>
      </div>
      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">프로필</button>
          <button class="nav-link" id="nav-preference-tab" data-bs-toggle="tab" data-bs-target="#nav-preference" type="button" role="tab" aria-controls="nav-preference" aria-selected="false">
            선호하는 음식
          </button>
          <button class="nav-link" id="nav-weight-tab" data-bs-toggle="tab" data-bs-target="#nav-weight" type="button" role="tab" aria-controls="nav-weight" aria-selected="false">몸무게 변화</button>
          <button class="nav-link" id="nav-registerd-tab" data-bs-toggle="tab" data-bs-target="#nav-registerd" type="button" role="tab" aria-controls="nav-registerd" aria-selected="false">
            가입정보
          </button>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
          <div class="mb-3 p-4 shadow-sm rounded bg-body-secondary">
            <div class="row">
              <div class="col">
                <p class="fw-bold fs-4">키</p>
                <p class="fs-5">{{ user_profile.height }}</p>
              </div>
              <div class="col">
                <p class="fw-bold fs-4">체중</p>
                <p class="fs-5">{{ user_profile.weight }}</p>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <p class="fw-bold fs-4">성별</p>
                <p class="fs-5">{{ user_profile.sex }}</p>
              </div>
              <div class="col">
                <p class="fw-bold fs-4">주당 운동 횟수</p>
                <p class="fs-5">{{ user_profile.exercise_frequency }}</p>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <p class="fw-bold fs-4">식습관</p>
                <p class="fs-5">{{ user_profile.dietary_belief }}</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col text-center">
              <a href="/edit-user-profile" class="btn btn-dark text-white">프로필 수정하기</a>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="nav-preference" role="tabpanel" aria-labelledby="nav-preference-tab" tabindex="0">
          <div class="mb-3 p-4 shadow-sm rounded bg-body-secondary">
            {% if preference_datas is not none and preference_datas|length > 0 %} {% for preference_data in preference_datas %}
            <p class="fs-4">{{ preference_data['food_item'] }}</p>
            {% endfor %} {% else %}
            <p class="text-center fw-bold fs-3">선호하는 음식을 등록하세요</p>
            {% endif %}
          </div>

          <div class="row">
            <div class="col text-center">
              <a href="/write-meal-preference" class="btn btn-dark text-white">선호하는 음식을 등록하기</a>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="nav-weight" role="tabpanel" aria-labelledby="nav-weight-tab" tabindex="0">
          <div class="mb-3">
            <img src="{{ url_for('plot_png') }}" class="img-fluid w-100" alt="Weight Graph" />
          </div>

          <div class="row">
            <div class="col text-center">
              <a href="/write-weight-record" class="btn btn-dark text-white">몸무게 등록하기</a>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="nav-registerd" role="tabpanel" aria-labelledby="nav-registerd-tab" tabindex="0">
          <div class="mb-3 p-4 shadow-sm rounded bg-body-secondary">
            <p class="fw-bold fs-4">가입일</p>
            <p class="fs-5">{{ user_info.strftime("%Y-%m-%d") }}</p>
          </div>
          <div class="row">
            <div class="col text-center">
              <a href="/deregister" class="btn btn-dark text-white">회원 탈퇴</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
